+++
title = "レッスン 53"
date = "2025-02-08T17:00:00+09:00"
author = "小野寺　健"
description = "スクラッチで簡単なピアノをつくろう"
showFullContent = false
readingTime = false
tags = ["スクラッチ", "音楽", "初級"]
+++
# スクラッチで簡単（かんたん）なピアノをつくろう

## 準備（じゅんび）

スクラッチを開いてサインインしたら、「作る」を押（お）します。
画面左下の「拡張機能（かくちょうきのう）」という「＋」のマークのついた四角いボタンを押（お）します。
「拡張機能（かくちょうきのう）を選（えら）ぶ」という画面が出るので、
左上の「音楽」という楽器（がっき）が表示（ひょうじ）されている絵（え）を押（お）します。
「音楽ブロック」という音符（おんぷ）のマークのついたブロックが追加（ついか）されたら
準備完了（じゅんびかんりょう）です。

## ピアノの鍵盤（けんばん）をえがく

今回は「いつものねこ」は使わないので、右下の「ねこのスプライト」の右上の「ごみばこ」ボタンを押（お）して
ねこを消します。
スプライト一覧（いちらん）の右下の丸い「ねこのマーク」にマウスの矢印（やじるし）をあわせ、
出てきた「描く（えがく、ふでのマーク）」をえらびます。

スプライトのコスチュームをえがく画面が出てくるので、左下の「□」をえらんで、
てきとうな大きさの鍵盤（けんばん、たてながのぼう）を描（えが）きましょう。

そのままでは、色がおかしいので「塗（ぬ）りつぶし」をえらんで、「鮮（あざ）やかさ」を０にして
鍵盤（けんばん）を「白」にします。

## 押（お）した鍵盤（けんばん）のキーがわかりやすいようにする

今回はキーボードの左上の「２〜７」と「Ｑ〜Ｉ」の部分をピアノに見立てます。
先ほどのコスチュームをえがく画面で左にある「Ｔのマーク」をえらんでから
「塗（ぬ）りつぶし」をえらんで「明るさ」を０にして「黒」にします。
そして、キーボードで「Ｑ」とかいて、その文字を鍵盤（けんばん）の上までマウスで動かします。

## どの鍵盤（けんばん）を押（お）したかわかりやすくする

次に、描（えが）いた鍵盤（けんばん）を「複製（ふくせい）」して、鍵盤（けんばん）を押（お）したときの色をつけます。
これは、どの鍵盤（けんばん）を押（お）されているかわかりやすくするためです。

画面（がめん）左はしの「コスチューム１」を右クリックして「複製（ふくせい）」をえらびます。
「コスチューム１」と同じ内ようの「コスチューム２」が作られます。

コスチュームを描（えが）く画面（がめん）の左上にある矢印（やじるし↑）マークをえらび、鍵盤（けんばん）を
えらびます。

「塗（ぬ）りつぶし」の「明るさ」を０にし、「鮮（あざ）やかさ」を中央（５０）くらいにし、
色ですきな色をえらんで、鍵盤（けんばん）に色をつけます。

## キーボードを押（お）したら音を鳴らす

### 「ド」の音を鳴らす

「コード」のタブをえらんで、「コード」の画面にします。
「イベント」⇒「「○○」キーが押（お）されたとき」ブロックを使い、
「〇〇」の部分を鍵盤（けんばん）に書いたキーの文字「ｑ」に変更（へんこう）します。

「音楽」⇒「○の音符（おんぷ）を○拍（はく）鳴らす」を使います。
「ド」の音は「６０」なので「○の音符（おんぷ）」の部分を「６０」にします。
「○拍（はく）鳴らす」の部分は「音を鳴らす長さ」を入力しますが、今回はとりあえず元のままにしておきます。

### 音がなっているときに見た目を変（か）える

「見た目」⇒「コスチュームを○にする」を使って、キーを押（お）した直後に「コスチューム２」に
なるようにします。

音を鳴らし終えたら、同じブロックを使って、元の「コスチューム１」になるようにします。

ここまで作ったら、一度「ｑ」キーを押（お）して鍵盤（けんばん）の色が変（か）わり、
「ド」の音が鳴って、元の鍵盤（けんばん）の色にもどるか、確（たし）かめてみましょう！

## 「レ」〜「↑ド」（１オクターブ上のド）まで複製（ふくせい）する

右下のスプライト一覧（いちらん）から鍵盤（けんばん）のスプライトを選（えら）び、
右クリックして、「複製（ふくせい）」を選（えら）んで鍵盤（けんばん）をコピーします。

### 複製（ふくせい）した鍵盤（けんばん）の文字を書きかえる

コピーした鍵盤（けんばん）のスプライトが選（えら）ばれているので、
「コスチューム」タブを選（えら）んで、「T」マークを選（えら）び、鍵盤（けんばん）上の文字
（たとえば「ド」なら「Ｑ」）を新しい鍵盤（けんばん）に対応（たいおう）する文字
（たとえば「レ」なら「Ｗ」）に書きかえます。

このとき、「コスチューム１」だけでなく、「コスチューム２」の文字も書きかえてください。

### コードの文字と音を書きかえる

「コード」のタブを選（えら）んで、「「○○」キーが押（お）されたとき」ブロックの
「〇〇」の部分を新しい鍵盤（けんばん）に対応（たいおう）する文字（たとえば「レ」なら「ｗ」）に
書きかえます。

「○の音符（おんぷ）を○拍（はく）鳴らす」の「○の音符（おんぷ）」の部分も
新しい鍵盤（けんばん）に対応（たいおう）する音（たとえば「レ」なら「６２」）に
書きかえます。

### 鍵盤（けんばん）を整列する

コスチュームとコードの書きかえが終わったら、右上の実行画面上で鍵盤（けんばん）を整列させます。
このとき、上下方向は「ｙ」の数字に同じ数字を入力すれば、そろえることができます。

左右方向はマウスで動かしてそろえます。
そろえた後、「ド」の鍵盤（けんばん）の「ｘ」の数字と「レ」の鍵盤（けんばん）の「ｘ」の数字を
メモしておいて、それらの数字の差（さ、大きい方から小さい方を引いた数）をメモしておきます。

そうすれば、次からは１つ前の鍵盤（けんばん）の「ｘ」の数字にメモした差（さ）の数字を足した
数字を新しい鍵盤（けんばん）の「ｘ」に入力することで、横方向もそろえることができます。

### 残（のこ）りの「ミ」から「↑ド」（１オクターブ上のド）まで複製（ふくせい）する

上記の作業をくりかえして、「ミ」から「↑ド」（１オクターブ上のド）までを作ります。
その時、書きかえる文字、音は以下の通りです。

- 「ド」⇒「Ｑ」⇒「６０」
- 「レ」⇒「Ｗ」⇒「６２」
- 「ミ」⇒「Ｅ」⇒「６４」
- 「ファ」⇒「Ｒ」⇒「６５」
- 「ソ」⇒「Ｔ」⇒「６７」
- 「ラ」⇒「Ｙ」⇒「６９」
- 「シ」⇒「Ｕ」⇒「７１」
- 「↑ド」⇒「Ｉ」⇒「７２」

なお、音を書きかえる時、数字をクリックすると下にピアノのキーボードが表示（ひょうじ）されるので、
変（か）えたい音に対応（たいおう）するキーボードのキーをクリックすることで書きかえたい数字に
書きかえることもできます。

## 同じように黒い鍵盤（けんばん）も作る

白い鍵盤（けんばん）で「ドレミファソラシド」ができたら、黒い鍵盤（けんばん）を作ります。

### 黒い鍵盤（けんばん）を描（えが）く

スプライト一覧（いちらん）の右下の丸い「ねこのマーク」にマウスの矢印（やじるし）をあわせ、
出てきた「描く（えがく、ふでのマーク）」をえらびます。

スプライトのコスチュームをえがく画面が出てくるので、左下の「□」をえらんで、
てきとうな大きさの鍵盤（けんばん、たてながのぼう）を描（えが）きましょう。
先ほど作った白い鍵盤（けんばん）よりは幅（はば）を少し細めに、高さを少し低めにします。

そのままでは、色がおかしいので「塗（ぬ）りつぶし」をえらんで、「鮮（あざ）やかさ」を１００にして
鍵盤（けんばん）を「黒」にします。

先ほどのコスチュームをえがく画面で左にある「Ｔのマーク」をえらんでから
「塗（ぬ）りつぶし」をえらんで「明るさ」を１００にして「白」にします。
そして、キーボードで「２」とかいて、その文字を鍵盤（けんばん）の上までマウスで動かします。

白い鍵盤（けんばん）の時と同じようにコスチュームを複製（ふくせい）して、押（お）したときの
コスチューム（コスチューム２）を作り、色を変（か）えます。

この時、「鮮（あざ）やかさ」は中央（５０）くらいにすると良いでしょう。

### キーボードを押（お）したら音を鳴らす

白い鍵盤（けんばん）の時と同じようにコードを追加（ついか）します。

文字の部分は「２」に音は「６１」（ドの＃）にします。

ここまでできたら、「２」を押（お）したら、黒い鍵盤（けんばん）の色が変（か）わり、
「ドの＃」の音が鳴って、元の黒い鍵盤（けんばん）にもどることを確（たし）かめましょう。

### 鍵盤（けんばん）を整列する

作った黒い鍵盤（けんばん）を白い鍵盤（けんばん）の「ド（Ｑ）」と「レ（Ｗ）」の間の
中央に部分に、上端（じょうたん、鍵盤（けんばん）の上の部分）をそろえるように配置（はいち）します。
そのときの「ｘ」の数字と「ｙ」の数字をメモしておきます。

「ｙ」の数字はこの後作る黒い鍵盤（けんばん）の「ｙ」に同じ数字を入力します。
「ｘ」の数字は白い鍵盤（けんばん）を作ったときにメモした差（さ）の数字を使って
１つ前に作った黒い鍵盤（けんばん）の「ｘ」の数字に差（さ）を足した数字を入力します。
（「ミ」と「ファ」の間には黒い鍵盤（けんばん」はないので、「ファ＃（５）」の「ｘ」には
１つ前の「レ＃（３）」の「ｘ」の数字に差を２倍した数字を足した数字を入力します。

### 「レ＃」〜「ラ＃」まで複製（ふくせい）する

白い鍵盤（けんばん）を複製（ふくせい）したのと同じやり方で、黒い鍵盤（けんばん）を複製（ふくせい）します。
その時、書きかえる文字、音は以下の通りです。

- 「ド＃」⇒「２」⇒「６１」
- 「レ＃」⇒「３」⇒「６３」
- 「ファ＃」⇒「５」⇒「６６」
- 「ソ＃」⇒「６」⇒「６８」
- 「ラ＃」⇒「７」⇒「７０」

ここまで出来たら、右の実行画面で「緑の旗（はた）」を押し、キーボードでひいてみて、押（お）した鍵盤（けんばん）の色が変（か）わり、その鍵盤（けんばん）の音が出ることを確（たし）かめましょう。

## 録音（ろくおん）・再生（さいせい）機能（きのう）の追加（ついか）

一度ひいた曲を覚（おぼ）えておいて、もう一度聞けるようにしてみましょう。

### 「曲」というリストを作り、それぞれの鍵盤（けんばん）から音を追加（ついか）する

まず、「変数（へんすう）」⇒「リストを作る」をクリックし、「曲」という名前のリストを作ります。

作った「曲」というリストのチェックマークを外して、画面に出さないようにします。

次に、作った鍵盤（けんばん）のコードの後りに「○○を曲に追加（ついか）する」というブロックを追加し、
「〇〇」の部分に、それぞれの鍵盤（けんばん）で指定した音符（おんぷ）の数字（たとえば、「ド」の
音だったら「６０」）を入力します。

これを全ての鍵盤（けんばん）に対して行います。

### 休符（きゅうふ）を入れたり、取り消したり、全部消したりできるようにする

どれかの鍵盤（けんばん、たとえば「ド」）に休符（きゅうふ、音を休む記号）を入れたり、
ひいた音を取り消したり、ひいた音を全部取り消したりする機能（きのう）を追加（ついか）します。

それぞれ、以下のようにキーボードのキーに割付（わりつけ）ます。

休符（きゅうふ）⇒「Ｓ」
取り消し⇒「Ｘ」
全部消す⇒「Ｃ」

#### 休符（きゅうふ）「Ｓ」

「イベント」⇒「〇キーが押（お）されたとき」を選（えら）んで、「○キー」を「ｓキー」にします。
次に、「変数（へんすう）」⇒「○を曲に追加（ついか）する」というブロックを選（えら）んで、
「○」に「０」（ゼロ）を入力し、「ｓキーが押（お）されたとき」の後にくっつけます。

#### 取り消し「Ｘ」

「イベント」⇒「〇キーが押（お）されたとき」を選（えら）んで、「○キー」を「ｘキー」にします。
次に、「変数（へんすう）」⇒「曲の○番目を削除（さくじょ）する」ブロックを選（えら）んで、
「○番目」の部分を「曲の長さ」にして「ｘキーが押（お）されたとき」の後にくっつけます。

#### 全部消す「Ｃ」

「イベント」⇒「〇キーが押（お）されたとき」を選（えら）んで、「○キー」を「ｃキー」にします。
次に、「変数（へんすう）」⇒「曲のすべてを削除（さくじょ）する」ブロックを選（えら）んで、
「ｃキーが押（お）されたとき」の後にくっつけます。

### 「曲」に追加（ついか）された音をもう一度ひく

「スペースキー」を押（お）したら、「曲」に追加（ついか）された今までひいた音をもう一度ひくようにします。

まず、「イベント」⇒「〇キーが押（お）されたとき」を選（えら）んで、「○キー」を「スペースキー」にします。

次に、「変数（へんすう）」⇒「変数（へんすう）を作る」をクリックして、「曲の場所」という名前の変数（へんすう）を作ります。作った「曲の場所」という変数（へんすう）のチェックマークを外して、画面に出さないようにします。

「変数（へんすう）」⇒「○を○にする」ブロックを選（えら）んで「「曲の場所」を「０」（ゼロ）にする」にして、
「スペースキーが押（お）されたとき」の後にくっつけます。

次に、「制御（せいぎょ）」⇒「〇〇まで繰（く）り返す」ブロックを選（えら）び、「〇〇」の部分に
「演算（えんざん）」⇒「○＝○」ブロックを入れ、「○＝○」に「変数（へんすう）」にある「曲の長さ」と「曲の場所」を入れ、「「「曲の長さ」＝「曲の場所」」まで繰（く）り返す」にして、「「曲の場所」を「０」（ゼロ）にする」ブロックの後にくっつけます。

次に、「変数（へんすう）」⇒「○を○ずつ変（か）える」ブロックを選（えら）び、「「曲の場所」を「１」ずつ変（か）える」にして、「「「曲の長さ」＝「曲の場所」」まで繰（く）り返す」の中に入れます。

次に、「制御（せいぎょ）」⇒「もし〇〇なら、でなければ」ブロックを選（えら）び、
「〇〇」の部分に「演算（えんざん）」⇒「○＝○」ブロックを入れ、「○＝○」の左側の○の部分に
「変数（へんすう）」⇒「曲の○番目」を入れて、さらに「曲の○番目」の「○番目」の部分に
「曲の場所」を入れます。「○＝○」の右側の○の部分には「０」（ゼロ）を入れます。

「もし「「「曲」の「曲の場所」番目」＝「０」」なら、でなければ」というブロックが出来るので、
「「曲の場所」を「１」ずつ変（か）える」の後のくっつけます。

次に、「もし」の部分に「音楽」⇒「○拍（はく）休む」を入れます。○の部分は元から入っている「０．２５」のままにしておきます。

「でなければ」の部分に「音楽」⇒「○の音符（おんぷ）を○拍（はく）鳴らす」を入れて、「○の音符（おんぷ）」の部分に
「変数（へんすう）」⇒「曲の○番目」を入れ「○番目」の部分に、「曲の場所」を入れます。○拍（はく）鳴らすの部分は
元から入っている「０．２５」のままにしておきます。
「「「曲」の「曲の場所」番目」の音符（おんぷ）を「０．２５」拍（はく）鳴らす」というブロックになります。

## 曲をひいて、ひいた音をもう一度聞いてみる。

ここまでできたら、右の実行画面の緑の旗（はた）をクリックし、キーボードでピアノをひいた後
スペースキーを押（お）すと、ひいた曲がもう一度演奏（えんそう）されます。

ひきまちがえたら、ｘキーを押（お）すたびに１つずつ取り消されます。
ｃキーを押（お）せば、ひいた音全てが取り消されます。
音がつながりすぎて、不自然（ふしぜん）なときには、ｓキーを使っててきとうに音と音の間に休符（きゅうふ）を入れてください。

## いろいろな楽器（がっき）の音を出そう

ピアノだけでなく、いろいろな楽器（がっき）の音を出せるようにしてみましょう。
どんな、音が出せるかは、「音楽」⇒「楽器（がっき）を○にする」の○の部分の▼マークをクリックすると
楽器（がっき）の一覧（いちらん）を見ることができます。
それぞれの楽器（がっき）名の左側の（）の中の数字が、楽器（がっき）の番号になります。

### 楽器（がっき）番号の変数（へんすう）を作る

楽器（がっき）番号の変数（へんすう）を作って、その番号を自由に指定できるようにします。
まず、「変数（へんすう）」⇒「変数（へんすう）を作る」をクリックし、「楽器（がっき）番号」という名前の変数（へんすう）を作ります。チェックマークはそのままにしておいて、右の画面で見えるようにしておきます。

右の画面に見える「楽器（がっき）番号」という変数（へんすう）の場所を左上に動かしてください。

次に、右の画面の「楽器（がっき）番号」という変数を右クリックして「スライダー」を選（えら）んでください。
変数（へんすう）の下に「スライダー」が追加（ついか）され、これを動かすことで「楽器（がっき）番号」の数字を
自由に指定できるようになります。

このままでは、指定できる範囲（はんい）が０〜１００となって、楽器（がっき）番号にない番号まで指定できてしまうので、
もう一度「楽器（がっき）番号」という変数を右クリックして「スライダーの指定範囲（はんい）を変更（へんこう）」を選（えら）んで「最小値（さいしょうち）」を「１」に、「最大値（さいだいち）」を「２１」にします。
これで、「楽器（がっき）番号」にある番号だけが指定できるようになりました。

### 楽器（がっき）を楽器（がっき）番号の楽器（がっき）にする

楽器（がっき）番号」という変数（へんすう）の数字を変（か）えただけでは、楽器（がっき）の音は変（か）わらないので、
この変数（へんすう）の数字を使って楽器（がっき）を変（か）えるようにコードを書きます。

「ド」の鍵盤（けんばん）のコードで、
「イベント」⇒「緑の旗（はた）が押（お）されたとき」ブロックを選（えら）び、その後に「音楽」⇒「楽器（がっき）を○にする」をくっつけ、「○にする」の部分に「変数（へんすう）」⇒「楽器（がっき）番号」を入れます。

楽器（がっき）の音はそれぞれの鍵盤（けんばん）ごとに指定しなければいけないので、今作った２つのブロックを全ての鍵盤（けんばん）にコピペします。

## 楽器（がっき）の音を変（か）えてみる

ここまでできたら、右の実行画面で「楽器（がっき）番号」をすきな楽器（がっき）の番号にして、緑の旗（はた）を押（お）して、キーボードでひいてみましょう。指定した楽器（がっき）の音になっているはずです。

## 完成

完成したピアノは以下のようになります。

https://scratch.mit.edu/projects/1131109633
